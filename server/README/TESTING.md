# 测试约定

## 范围

- `server/src/test`：单元测试与集成测试，要求运行快，不依赖运行中的服务或外部系统。
- `server/api-e2e`：接口端到端流程测试，允许依赖运行中的服务与真实外部依赖。

## 规则

- 端到端测试不得放入 `server/src/test`。
- 单元测试与切片测试不得放入 `server/api-e2e`。
- CI 仅运行 `api-e2e` 的 smoke；完整 E2E 仅在本地或夜间任务运行。
